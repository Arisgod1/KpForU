# **常见问题Q&A**

## **手表使用相关**

### Q1：手表怎么开发？开发环境是是什么？

答：手表是 Android 系统，不是 Android Wear，按手机开发思维开发，遵循相关规范即可。

### Q2：如何使用手表？

答：OPPO Watch开始使用前，必须与健康APP进行配对后方可使用。 健康APP可通过各大应用市场进行搜索下载，或使用微信扫描手表端二维码根据引导进行下载。 配对过程中若出现配对失败的情况，请先依照健康App的提示进行蓝牙关闭后再打开，并将系统设置-蓝牙中的手表进行移除或者忽略设备，同时手表端长按 功能键(下键)重置系统后，再次尝试配对手表。

### Q3：如何调试？

答：开发者模式打开方法：按一下导航键(上键)进入Applist，在设置-其他设置-关于手表-版本号，连续点击7次后打开开发者模式，返回到其他设置，翻到最后会出现“开发者选项”。 调试过程中，需要将手表和充电底座连接后，连接至电脑进行调试。

### Q4：为什么无法连接Wi-Fi失败？

答：当前Wi-Fi不支持连接需要认证的网络，请确认网络类型后重新尝试。

### Q5：连接网络时，为什么进入软件商店提示无网络连接？

答：长时间未连接手机的情况下，系统时间会不准确。软件商店请求资源需要对时 间进行认证，若系统时间不准确，会存在提示无网络连接的情况。请在健康APP内点击重新连接后重试，或者在设置-其他设置-时间-使用网络时 间，点击开启。(网络时间功能部分系统版本不支持) 。

### Q6：为什么进入软件商店找不到某个应用或自己的应用？

答：请确认该应用是否上架。应用上架后，我们会根据应用的情况进行资源配置， 部分应用不支持配对的手机为iOS，部分应用仅在某些版本能够使用。可以升级系统版本至最新的版本，或者确认手机的设备类型后再进入商店后重试。如遇其他问题，可以联系我们。

## **应用开发相关**

### Q1：如何配置版本兼容

答：目前系统版本为Android 8.1，minSdkVersion为27。Manifest 配置如下：

```xml
<uses-feature android:name="android.hardware.type.watch"/> 
```

### Q2：如何启动右滑功能？

答：手表由于屏幕过小，无法很好地支持功能键返回或手势返回，因此实现右滑返回能提高手表应用的交互体验，也是应用必须遵循的规则之一。启动右滑功能可以通过以下方式：
1）通过主题配置，在主题样式中加入：

```xml
<item name="android:windowSwipeToDismiss">true</item> 
```

2）添加公共组件，公共组件需要5.0.1以上版本支持右滑

### Q3：为什么右滑过程中会出现闪烁等问题？

答：由于使用了右滑返回功能，滑动时会显示低层的activity，如果低层的activity状 态不正确，处于onStop状态，则会导致右滑时出现界面重绘、闪烁的问题，因此我们还要使用正确的主题，使底层的activity处于onPause状态，不会出现重绘问题，实现此功能的主题有两个:

1. 使用DeviceDefault主题
2. 使用AppCompat主题

### Q4：手表蓝牙网络如何判断？

答：OPPO手表除了支持Wi-Fi和eSIM移动网络之外，还支持蓝牙网络，即当手表与手机连接状态，可以使用手机的网络功能。但限制于蓝牙的传输性能，蓝牙网络的速度与稳定性也受到限制，速度只能维持在80~120K左右，对于强网络类型应用，需要在蓝牙网络下做优化。判断蓝牙网路可通过设置获取：

```php
//判断是否使用蓝牙网络，0：不是 1：是
Settings.Global.getInt(context, "bluetooth_net_proxy_on", 0)
```

### Q5：为什么我已经修复了性能问题，但是验收结果还是有非常多的crash或anr？

答：为了验证应用的性能，我们会进行Monkey测试。在过往的合作经验中，我们发现应用存在启动页面时，例如打开app后启动SplashActivity然后跳转到MainActivity，Monkey测试可能会多次启动SplashActivity，导致留下多个MainActivity，造成内存问题。解决方案：在MainActivity加上singleTask

```vbnet
android:launchMode="singleTask"
```

若验收结果中出现性能问题，且您已修复了发现的问题，仍存在较多的crash或anr，可以排查上述问题。

### Q6：日志怎么看？

答：打开“电话”app，拨号盘输入“*#800#”，进入问题反馈页面。点击“开始抓取”。抓取结束后，点击“停止抓取”。停止抓取后，在/sdcard/oppo_log/目录下查看。